{% load static %}
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Open Chair Admin Dashboard" />
<meta name="author" content="Open Chair" />

<title>{% if title %}{{ title }} - {% endif %}{% if setting.app_name %}{{ setting.app_name }}{% else %}Open Chair{% endif %}</title>
<link href="{% static 'css/tailwind.css' %}" rel="stylesheet" />
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet" />
<link
  href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
  rel="stylesheet"
/>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css"
/>

<link rel="canonical" href="{{ request.build_absolute_uri }}" />
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

{% include 'layouts/partials/stylesheet.html' %}
{% include 'layouts/partials/favicons.html' %}
{% include 'layouts/partials/social.html' %}
{% include 'layouts/partials/analytics.html' %}

<script>
  if (
    localStorage.getItem("color-theme") === "dark" ||
    (!("color-theme" in localStorage) &&
      window.matchMedia("(prefers-color-scheme: dark)").matches)
  ) {
    document.documentElement.classList.add("dark");
  } else {
    document.documentElement.classList.remove("dark");
  }
</script>
<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script>
  const success = {{ success|default:"[]"|safe|escapejs }};
  const error = {{ error|default:"[]"|safe|escapejs }};

  window.addEventListener("DOMContentLoaded", function () {
    if (success && success.length > 0) {
      Toastify({
        text: success[0],
        duration: 5000,
        gravity: "top",
        position: "right",
        backgroundColor: "#28a745",
      }).showToast();
    }

    if (error && error.length > 0) {
      Toastify({
        text: error[0],
        duration: 5000,
        gravity: "top",
        position: "right",
        backgroundColor: "#dc3545",
      }).showToast();
    }
  });
</script>
